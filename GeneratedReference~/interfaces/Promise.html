<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>Promise | Airship Core</title><meta name="description" content="Documentation for Airship Core"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base=".."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">Airship Core</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb"><li><a href="../modules.html">Airship Core</a></li><li><a href="Promise.html">Promise</a></li></ul><h1>Interface Promise&lt;T&gt;</h1></div><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><p>Represents the completion of an asynchronous operation</p>
</div><div class="tsd-comment tsd-typography"></div></section><div class="tsd-signature"><span class="tsd-signature-keyword">interface </span><span class="tsd-kind-interface">Promise</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#T">T</a><span class="tsd-signature-symbol">&gt;</span> <span class="tsd-signature-symbol">{ </span><br/><span>    </span><a class="tsd-kind-call-signature" href="Promise.html#andThen.andThen-1">andThen</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#andThen.andThen-1.TResult1">TResult1</a><span class="tsd-signature-symbol">, </span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#andThen.andThen-1.TResult2">TResult2</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">this</span>, <span class="tsd-kind-parameter">onResolved</span><span class="tsd-signature-symbol">?</span>, <span class="tsd-kind-parameter">onRejected</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#andThen.andThen-1.TResult1">TResult1</a><span class="tsd-signature-symbol"> | </span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#andThen.andThen-1.TResult2">TResult2</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><a class="tsd-kind-call-signature" href="Promise.html#andThenCall.andThenCall-1">andThenCall</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#andThenCall.andThenCall-1.P">P</a><span class="tsd-signature-symbol">, </span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#andThenCall.andThenCall-1.R">R</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">this</span>, <span class="tsd-kind-parameter">callback</span>, <span class="tsd-signature-symbol">...</span><span class="tsd-kind-parameter">args</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#andThenCall.andThenCall-1.R">R</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><a class="tsd-kind-call-signature" href="Promise.html#andThenReturn.andThenReturn-1">andThenReturn</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#andThenReturn.andThenReturn-1.U">U</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">this</span>, <span class="tsd-kind-parameter">value</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#andThenReturn.andThenReturn-1.U">U</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><a class="tsd-kind-call-signature" href="Promise.html#await.await-1">await</a><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">this</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">LuaTuple</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">[</span><span class="tsd-signature-type">true</span><span class="tsd-signature-symbol">, </span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#T">T</a><span class="tsd-signature-symbol">]</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">[</span><span class="tsd-signature-type">false</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">unknown</span><span class="tsd-signature-symbol">]</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><a class="tsd-kind-call-signature" href="Promise.html#awaitStatus.awaitStatus-1">awaitStatus</a><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">this</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">LuaTuple</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">[</span><span class="tsd-signature-type">Status</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">unknown</span><span class="tsd-signature-symbol">]</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><a class="tsd-kind-call-signature" href="Promise.html#cancel.cancel-1">cancel</a><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">this</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><a class="tsd-kind-call-signature" href="Promise.html#catch.catch-1">catch</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#catch.catch-1.TResult">TResult</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">this</span>, <span class="tsd-kind-parameter">onRejected</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#T">T</a><span class="tsd-signature-symbol"> | </span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#catch.catch-1.TResult">TResult</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><a class="tsd-kind-call-signature" href="Promise.html#done.done-1">done</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#done.done-1.TResult-1">TResult</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">this</span>, <span class="tsd-kind-parameter">doneHandler</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#done.done-1.TResult-1">TResult</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><a class="tsd-kind-call-signature" href="Promise.html#doneCall.doneCall-1">doneCall</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#doneCall.doneCall-1.P-1">P</a><span class="tsd-signature-symbol">, </span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#doneCall.doneCall-1.R-1">R</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">this</span>, <span class="tsd-kind-parameter">callback</span>, <span class="tsd-signature-symbol">...</span><span class="tsd-kind-parameter">args</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#doneCall.doneCall-1.R-1">R</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><a class="tsd-kind-call-signature" href="Promise.html#doneReturn.doneReturn-1">doneReturn</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#doneReturn.doneReturn-1.U-1">U</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">this</span>, <span class="tsd-kind-parameter">value</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#doneReturn.doneReturn-1.U-1">U</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><a class="tsd-kind-call-signature" href="Promise.html#expect.expect-1">expect</a><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">this</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#T">T</a><span class="tsd-signature-symbol">; </span><br/><span>    </span><a class="tsd-kind-call-signature" href="Promise.html#finally.finally-1">finally</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#finally.finally-1.TResult-2">TResult</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">this</span>, <span class="tsd-kind-parameter">onSettled</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#T">T</a><span class="tsd-signature-symbol"> | </span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#finally.finally-1.TResult-2">TResult</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><a class="tsd-kind-call-signature" href="Promise.html#finallyCall.finallyCall-1">finallyCall</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#finallyCall.finallyCall-1.P-2">P</a><span class="tsd-signature-symbol">, </span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#finallyCall.finallyCall-1.R-2">R</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">this</span>, <span class="tsd-kind-parameter">callback</span>, <span class="tsd-signature-symbol">...</span><span class="tsd-kind-parameter">args</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#finallyCall.finallyCall-1.R-2">R</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><a class="tsd-kind-call-signature" href="Promise.html#finallyReturn.finallyReturn-1">finallyReturn</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#finallyReturn.finallyReturn-1.U-2">U</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">this</span>, <span class="tsd-kind-parameter">value</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#finallyReturn.finallyReturn-1.U-2">U</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><a class="tsd-kind-call-signature" href="Promise.html#getStatus.getStatus-1">getStatus</a><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">this</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Status</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><a class="tsd-kind-call-signature" href="Promise.html#now.now-1">now</a><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">this</span>, <span class="tsd-kind-parameter">rejectionValue</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#T">T</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><a class="tsd-kind-call-signature" href="Promise.html#tap.tap-1">tap</a><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">this</span>, <span class="tsd-kind-parameter">tapHandler</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#T">T</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><a class="tsd-kind-call-signature" href="Promise.html#then.then-1">then</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#then.then-1.TResult1-1">TResult1</a><span class="tsd-signature-symbol">, </span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#then.then-1.TResult2-1">TResult2</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">this</span>, <span class="tsd-kind-parameter">onResolved</span><span class="tsd-signature-symbol">?</span>, <span class="tsd-kind-parameter">onRejected</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#then.then-1.TResult1-1">TResult1</a><span class="tsd-signature-symbol"> | </span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#then.then-1.TResult2-1">TResult2</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><a class="tsd-kind-call-signature" href="Promise.html#timeout.timeout-1">timeout</a><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">this</span>, <span class="tsd-kind-parameter">seconds</span>, <span class="tsd-kind-parameter">rejectionValue</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#T">T</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span></div> <section class="tsd-panel"><h4>Type Parameters</h4><ul class="tsd-type-parameter-list"><li><span><a id="T" class="tsd-anchor"></a><span class="tsd-kind-type-parameter">T</span></span></li></ul></section> <section class="tsd-panel-group tsd-index-group"><section class="tsd-panel tsd-index-panel"><details class="tsd-index-content tsd-index-accordion" open><summary class="tsd-accordion-summary tsd-index-summary"><h5 class="tsd-index-heading uppercase" role="button" aria-expanded="false" tabIndex="0"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-chevronSmall"></use></svg> Index</h5></summary><div class="tsd-accordion-details"><section class="tsd-index-section"><h3 class="tsd-index-heading">Methods</h3><div class="tsd-index-list"><a href="Promise.html#andThen" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>and<wbr/>Then</span></a>
<a href="Promise.html#andThenCall" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>and<wbr/>Then<wbr/>Call</span></a>
<a href="Promise.html#andThenReturn" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>and<wbr/>Then<wbr/>Return</span></a>
<a href="Promise.html#await" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>await</span></a>
<a href="Promise.html#awaitStatus" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>await<wbr/>Status</span></a>
<a href="Promise.html#cancel" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>cancel</span></a>
<a href="Promise.html#catch" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>catch</span></a>
<a href="Promise.html#done" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>done</span></a>
<a href="Promise.html#doneCall" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>done<wbr/>Call</span></a>
<a href="Promise.html#doneReturn" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>done<wbr/>Return</span></a>
<a href="Promise.html#expect" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>expect</span></a>
<a href="Promise.html#finally" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>finally</span></a>
<a href="Promise.html#finallyCall" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>finally<wbr/>Call</span></a>
<a href="Promise.html#finallyReturn" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>finally<wbr/>Return</span></a>
<a href="Promise.html#getStatus" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Status</span></a>
<a href="Promise.html#now" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>now</span></a>
<a href="Promise.html#tap" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>tap</span></a>
<a href="Promise.html#then" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>then</span></a>
<a href="Promise.html#timeout" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>timeout</span></a>
</div></section></div></details></section></section><section class="tsd-panel-group tsd-member-group"><h2>Methods</h2><section class="tsd-panel tsd-member"><a id="andThen" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>and<wbr/>Then</span><a href="#andThen" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="andThen.andThen-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">and<wbr/>Then</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#andThen.andThen-1.TResult1">TResult1</a><span class="tsd-signature-symbol">, </span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#andThen.andThen-1.TResult2">TResult2</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">this</span>, <span class="tsd-kind-parameter">onResolved</span><span class="tsd-signature-symbol">?</span>, <span class="tsd-kind-parameter">onRejected</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#andThen.andThen-1.TResult1">TResult1</a><span class="tsd-signature-symbol"> | </span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#andThen.andThen-1.TResult2">TResult2</a><span class="tsd-signature-symbol">&gt;</span><a href="#andThen.andThen-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Chains onto an existing Promise and returns a new Promise.</p>
<blockquote>
<p>Within the failure handler, you should never assume that the rejection value is a string. Some rejections within the Promise library are represented by Error objects. If you want to treat it as a string for debugging, you should call <code>tostring</code> on it first.</p>
</blockquote>
<p>Return a Promise from the success or failure handler and it will be chained onto.</p>
</div><section class="tsd-panel"><h4>Type Parameters</h4><ul class="tsd-type-parameter-list"><li><span><a id="andThen.andThen-1.TResult1" class="tsd-anchor"></a><span class="tsd-kind-type-parameter">TResult1</span> = <a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#T">T</a></span></li><li><span><a id="andThen.andThen-1.TResult2" class="tsd-anchor"></a><span class="tsd-kind-type-parameter">TResult2</span> = <span class="tsd-signature-type">never</span></span></li></ul></section><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">this</span>: <a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#T">T</a><span class="tsd-signature-symbol">&gt;</span></span></li><li><span><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">onResolved</span>: <span class="tsd-signature-type">void</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">value</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#andThen.andThen-1.TResult1">TResult1</a><span class="tsd-signature-symbol"> | </span><a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#andThen.andThen-1.TResult1">TResult1</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span></span></li><li><span><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">onRejected</span>: <span class="tsd-signature-type">void</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">reason</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#andThen.andThen-1.TResult2">TResult2</a><span class="tsd-signature-symbol"> | </span><a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#andThen.andThen-1.TResult2">TResult2</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#andThen.andThen-1.TResult1">TResult1</a><span class="tsd-signature-symbol"> | </span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#andThen.andThen-1.TResult2">TResult2</a><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"></div></li></ul></section><section class="tsd-panel tsd-member"><a id="andThenCall" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>and<wbr/>Then<wbr/>Call</span><a href="#andThenCall" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="andThenCall.andThenCall-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">and<wbr/>Then<wbr/>Call</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#andThenCall.andThenCall-1.P">P</a><span class="tsd-signature-symbol">, </span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#andThenCall.andThenCall-1.R">R</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">this</span>, <span class="tsd-kind-parameter">callback</span>, <span class="tsd-signature-symbol">...</span><span class="tsd-kind-parameter">args</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#andThenCall.andThenCall-1.R">R</a><span class="tsd-signature-symbol">&gt;</span><a href="#andThenCall.andThenCall-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Attaches an <code>andThen</code> handler to this Promise that calls the given callback with the predefined arguments. The resolved value is discarded.</p>
<pre><code class="language-lua"><span class="hl-8">promise</span><span class="hl-1">:</span><span class="hl-5">andThenCall</span><span class="hl-1">(</span><span class="hl-0">someFunction</span><span class="hl-1">, </span><span class="hl-7">&quot;some&quot;</span><span class="hl-1">, </span><span class="hl-7">&quot;arguments&quot;</span><span class="hl-1">)</span>
</code><button>Copy</button></pre>
<p>This is sugar for</p>
<pre><code class="language-lua"><span class="hl-8">promise</span><span class="hl-1">:</span><span class="hl-5">andThen</span><span class="hl-1">(</span><span class="hl-2">function</span><span class="hl-1">()</span><br/><span class="hl-1">    </span><span class="hl-2">return</span><span class="hl-1"> </span><span class="hl-5">someFunction</span><span class="hl-1">(</span><span class="hl-7">&quot;some&quot;</span><span class="hl-1">, </span><span class="hl-7">&quot;arguments&quot;</span><span class="hl-1">)</span><br/><span class="hl-2">end</span><span class="hl-1">)</span>
</code><button>Copy</button></pre>
</div><section class="tsd-panel"><h4>Type Parameters</h4><ul class="tsd-type-parameter-list"><li><span><a id="andThenCall.andThenCall-1.P" class="tsd-anchor"></a><span class="tsd-kind-type-parameter">P</span><span class="tsd-signature-keyword"> extends </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">[]</span></span></li><li><span><a id="andThenCall.andThenCall-1.R" class="tsd-anchor"></a><span class="tsd-kind-type-parameter">R</span></span></li></ul></section><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">this</span>: <a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#T">T</a><span class="tsd-signature-symbol">&gt;</span></span></li><li><span><span class="tsd-kind-parameter">callback</span>: <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">...</span><span class="tsd-kind-parameter">args</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#andThenCall.andThenCall-1.R">R</a><span class="tsd-signature-symbol">)</span></span><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature"><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">...</span><span class="tsd-kind-parameter">args</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#andThenCall.andThenCall-1.R">R</a></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><code class="tsd-tag ts-flagRest">Rest</code> <span class="tsd-signature-symbol">...</span><span class="tsd-kind-parameter">args</span>: <a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#andThenCall.andThenCall-1.P">P</a></span></li></ul></div><h4 class="tsd-returns-title">Returns <a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#andThenCall.andThenCall-1.R">R</a></h4></li></ul></li></ul></li><li><span><code class="tsd-tag ts-flagRest">Rest</code> <span class="tsd-signature-symbol">...</span><span class="tsd-kind-parameter">args</span>: <a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#andThenCall.andThenCall-1.P">P</a></span></li></ul></div><h4 class="tsd-returns-title">Returns <a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#andThenCall.andThenCall-1.R">R</a><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"></div></li></ul></section><section class="tsd-panel tsd-member"><a id="andThenReturn" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>and<wbr/>Then<wbr/>Return</span><a href="#andThenReturn" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="andThenReturn.andThenReturn-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">and<wbr/>Then<wbr/>Return</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#andThenReturn.andThenReturn-1.U">U</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">this</span>, <span class="tsd-kind-parameter">value</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#andThenReturn.andThenReturn-1.U">U</a><span class="tsd-signature-symbol">&gt;</span><a href="#andThenReturn.andThenReturn-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Attaches an <code>andThen</code> handler to this Promise that discards the resolved value and returns the given value from it.</p>
<pre><code class="language-lua"><span class="hl-8">promise</span><span class="hl-1">:</span><span class="hl-5">andThenReturn</span><span class="hl-1">(</span><span class="hl-7">&quot;value&quot;</span><span class="hl-1">)</span>
</code><button>Copy</button></pre>
<p>This is sugar for</p>
<pre><code class="language-lua"><span class="hl-8">promise</span><span class="hl-1">:</span><span class="hl-5">andThen</span><span class="hl-1">(</span><span class="hl-2">function</span><span class="hl-1">()</span><br/><span class="hl-1">    </span><span class="hl-2">return</span><span class="hl-1"> </span><span class="hl-7">&quot;value&quot;</span><br/><span class="hl-2">end</span><span class="hl-1">)</span>
</code><button>Copy</button></pre>
<blockquote>
<p>Promises are eager, so if you pass a Promise to <code>andThenReturn</code>, it will begin executing before <code>andThenReturn</code> is reached in the chain. Likewise, if you pass a Promise created from <a href="https://eryn.io/roblox-lua-promise/lib/#reject">Promise.reject</a> into <code>andThenReturn</code>, it&#39;s possible that this will trigger the unhandled rejection warning. If you need to return a Promise, it&#39;s usually best practice to use <a href="https://eryn.io/roblox-lua-promise/lib/#andthen">Promise.andThen</a>.</p>
</blockquote>
</div><section class="tsd-panel"><h4>Type Parameters</h4><ul class="tsd-type-parameter-list"><li><span><a id="andThenReturn.andThenReturn-1.U" class="tsd-anchor"></a><span class="tsd-kind-type-parameter">U</span></span></li></ul></section><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">this</span>: <a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#T">T</a><span class="tsd-signature-symbol">&gt;</span></span></li><li><span><span class="tsd-kind-parameter">value</span>: <a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#andThenReturn.andThenReturn-1.U">U</a></span></li></ul></div><h4 class="tsd-returns-title">Returns <a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#andThenReturn.andThenReturn-1.U">U</a><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"></div></li></ul></section><section class="tsd-panel tsd-member"><a id="await" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>await</span><a href="#await" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="await.await-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">await</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">this</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">LuaTuple</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">[</span><span class="tsd-signature-type">true</span><span class="tsd-signature-symbol">, </span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#T">T</a><span class="tsd-signature-symbol">]</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">[</span><span class="tsd-signature-type">false</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">unknown</span><span class="tsd-signature-symbol">]</span><span class="tsd-signature-symbol">&gt;</span><a href="#await.await-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Yields the current thread until the given Promise completes. Returns true if the Promise resolved, followed by the values that the promise resolved or rejected with.</p>
<blockquote>
<p>If the Promise gets cancelled, this function will return <code>false</code>, which is indistinguishable from a rejection. If you need to differentiate, you should use <a href="https://eryn.io/roblox-lua-promise/lib/#awaitstatus">Promise.awaitStatus</a> instead.</p>
</blockquote>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">this</span>: <a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#T">T</a><span class="tsd-signature-symbol">&gt;</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">LuaTuple</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">[</span><span class="tsd-signature-type">true</span><span class="tsd-signature-symbol">, </span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#T">T</a><span class="tsd-signature-symbol">]</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">[</span><span class="tsd-signature-type">false</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">unknown</span><span class="tsd-signature-symbol">]</span><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"></div></li></ul></section><section class="tsd-panel tsd-member"><a id="awaitStatus" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>await<wbr/>Status</span><a href="#awaitStatus" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="awaitStatus.awaitStatus-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">await<wbr/>Status</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">this</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">LuaTuple</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">[</span><span class="tsd-signature-type">Status</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">unknown</span><span class="tsd-signature-symbol">]</span><span class="tsd-signature-symbol">&gt;</span><a href="#awaitStatus.awaitStatus-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Yields the current thread until the given Promise completes. Returns the Promise&#39;s status, followed by the values that the promise resolved or rejected with.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">this</span>: <a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#T">T</a><span class="tsd-signature-symbol">&gt;</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">LuaTuple</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">[</span><span class="tsd-signature-type">Status</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">unknown</span><span class="tsd-signature-symbol">]</span><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"></div></li></ul></section><section class="tsd-panel tsd-member"><a id="cancel" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>cancel</span><a href="#cancel" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="cancel.cancel-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">cancel</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">this</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span><a href="#cancel.cancel-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Cancels this promise, preventing the promise from resolving or rejecting. Does not do anything if the promise is already settled.</p>
<p>Cancellations will propagate upwards and downwards through chained promises.</p>
<p>Promises will only be cancelled if all of their consumers are also cancelled. This is to say that if you call <code>andThen</code> twice on the same promise, and you cancel only one of the child promises, it will not cancel the parent promise until the other child promise is also cancelled.</p>
<pre><code class="language-lua"><span class="hl-8">promise</span><span class="hl-1">:</span><span class="hl-5">cancel</span><span class="hl-1">()</span>
</code><button>Copy</button></pre>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">this</span>: <a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#T">T</a><span class="tsd-signature-symbol">&gt;</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><div class="tsd-comment tsd-typography"></div></li></ul></section><section class="tsd-panel tsd-member"><a id="catch" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>catch</span><a href="#catch" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="catch.catch-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">catch</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#catch.catch-1.TResult">TResult</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">this</span>, <span class="tsd-kind-parameter">onRejected</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#T">T</a><span class="tsd-signature-symbol"> | </span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#catch.catch-1.TResult">TResult</a><span class="tsd-signature-symbol">&gt;</span><a href="#catch.catch-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Shorthand for <code>Promise:andThen(nil, failureHandler)</code>.</p>
<p>Returns a Promise that resolves if the <code>failureHandler</code> worked without encountering an additional error.</p>
</div><section class="tsd-panel"><h4>Type Parameters</h4><ul class="tsd-type-parameter-list"><li><span><a id="catch.catch-1.TResult" class="tsd-anchor"></a><span class="tsd-kind-type-parameter">TResult</span> = <span class="tsd-signature-type">never</span></span></li></ul></section><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">this</span>: <a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#T">T</a><span class="tsd-signature-symbol">&gt;</span></span></li><li><span><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">onRejected</span>: <span class="tsd-signature-type">void</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">reason</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#catch.catch-1.TResult">TResult</a><span class="tsd-signature-symbol"> | </span><a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#catch.catch-1.TResult">TResult</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#T">T</a><span class="tsd-signature-symbol"> | </span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#catch.catch-1.TResult">TResult</a><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"></div></li></ul></section><section class="tsd-panel tsd-member"><a id="done" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>done</span><a href="#done" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="done.done-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">done</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#done.done-1.TResult-1">TResult</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">this</span>, <span class="tsd-kind-parameter">doneHandler</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#done.done-1.TResult-1">TResult</a><span class="tsd-signature-symbol">&gt;</span><a href="#done.done-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Set a handler that will be called only if the Promise resolves or is cancelled. This method is similar to <code>finally</code>, except it doesn&#39;t catch rejections.</p>
<blockquote>
<p><code>done</code> should be reserved specifically when you want to perform some operation after the Promise is finished (like <code>finally</code>), but you don&#39;t want to consume rejections (like in <a href="https://eryn.io/roblox-lua-promise/lib/Examples.html#cancellable-animation-sequence">this example</a>). You should use <code>andThen</code> instead if you only care about the Resolved case.</p>
</blockquote>
<blockquote>
<p>Like <code>finally</code>, if the Promise is cancelled, any Promises chained off of it with <code>andThen</code> won&#39;t run. Only Promises chained with <code>done</code> and <code>finally</code> will run in the case of cancellation.</p>
</blockquote>
<p>Returns a new promise chained from this promise.</p>
</div><section class="tsd-panel"><h4>Type Parameters</h4><ul class="tsd-type-parameter-list"><li><span><a id="done.done-1.TResult-1" class="tsd-anchor"></a><span class="tsd-kind-type-parameter">TResult</span> = <span class="tsd-signature-type">never</span></span></li></ul></section><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">this</span>: <a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#T">T</a><span class="tsd-signature-symbol">&gt;</span></span></li><li><span><span class="tsd-kind-parameter">doneHandler</span>: <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">status</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#done.done-1.TResult-1">TResult</a><span class="tsd-signature-symbol">)</span></span><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">status</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#done.done-1.TResult-1">TResult</a></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">status</span>: <span class="tsd-signature-type">Status</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#done.done-1.TResult-1">TResult</a></h4></li></ul></li></ul></li></ul></div><h4 class="tsd-returns-title">Returns <a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#done.done-1.TResult-1">TResult</a><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"></div></li></ul></section><section class="tsd-panel tsd-member"><a id="doneCall" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>done<wbr/>Call</span><a href="#doneCall" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="doneCall.doneCall-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">done<wbr/>Call</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#doneCall.doneCall-1.P-1">P</a><span class="tsd-signature-symbol">, </span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#doneCall.doneCall-1.R-1">R</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">this</span>, <span class="tsd-kind-parameter">callback</span>, <span class="tsd-signature-symbol">...</span><span class="tsd-kind-parameter">args</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#doneCall.doneCall-1.R-1">R</a><span class="tsd-signature-symbol">&gt;</span><a href="#doneCall.doneCall-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Same as <code>andThenCall</code>, except for <code>done</code>.</p>
<p>Attaches a <code>done</code> handler to this Promise that calls the given callback with the predefined arguments.</p>
</div><section class="tsd-panel"><h4>Type Parameters</h4><ul class="tsd-type-parameter-list"><li><span><a id="doneCall.doneCall-1.P-1" class="tsd-anchor"></a><span class="tsd-kind-type-parameter">P</span><span class="tsd-signature-keyword"> extends </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">[]</span></span></li><li><span><a id="doneCall.doneCall-1.R-1" class="tsd-anchor"></a><span class="tsd-kind-type-parameter">R</span></span></li></ul></section><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">this</span>: <a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#T">T</a><span class="tsd-signature-symbol">&gt;</span></span></li><li><span><span class="tsd-kind-parameter">callback</span>: <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">...</span><span class="tsd-kind-parameter">args</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#doneCall.doneCall-1.R-1">R</a><span class="tsd-signature-symbol">)</span></span><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature"><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">...</span><span class="tsd-kind-parameter">args</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#doneCall.doneCall-1.R-1">R</a></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><code class="tsd-tag ts-flagRest">Rest</code> <span class="tsd-signature-symbol">...</span><span class="tsd-kind-parameter">args</span>: <a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#doneCall.doneCall-1.P-1">P</a></span></li></ul></div><h4 class="tsd-returns-title">Returns <a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#doneCall.doneCall-1.R-1">R</a></h4></li></ul></li></ul></li><li><span><code class="tsd-tag ts-flagRest">Rest</code> <span class="tsd-signature-symbol">...</span><span class="tsd-kind-parameter">args</span>: <a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#doneCall.doneCall-1.P-1">P</a></span></li></ul></div><h4 class="tsd-returns-title">Returns <a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#doneCall.doneCall-1.R-1">R</a><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"></div></li></ul></section><section class="tsd-panel tsd-member"><a id="doneReturn" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>done<wbr/>Return</span><a href="#doneReturn" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="doneReturn.doneReturn-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">done<wbr/>Return</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#doneReturn.doneReturn-1.U-1">U</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">this</span>, <span class="tsd-kind-parameter">value</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#doneReturn.doneReturn-1.U-1">U</a><span class="tsd-signature-symbol">&gt;</span><a href="#doneReturn.doneReturn-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Attaches a <code>done</code> handler to this Promise that discards the resolved value and returns the given value from it.</p>
<pre><code class="language-lua"><span class="hl-8">promise</span><span class="hl-1">:</span><span class="hl-5">doneReturn</span><span class="hl-1">(</span><span class="hl-7">&quot;value&quot;</span><span class="hl-1">)</span>
</code><button>Copy</button></pre>
<p>This is sugar for</p>
<pre><code class="language-lua"><span class="hl-8">promise</span><span class="hl-1">:</span><span class="hl-5">done</span><span class="hl-1">(</span><span class="hl-2">function</span><span class="hl-1">()</span><br/><span class="hl-1">    </span><span class="hl-2">return</span><span class="hl-1"> </span><span class="hl-7">&quot;value&quot;</span><br/><span class="hl-2">end</span><span class="hl-1">)</span>
</code><button>Copy</button></pre>
</div><section class="tsd-panel"><h4>Type Parameters</h4><ul class="tsd-type-parameter-list"><li><span><a id="doneReturn.doneReturn-1.U-1" class="tsd-anchor"></a><span class="tsd-kind-type-parameter">U</span></span></li></ul></section><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">this</span>: <a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#T">T</a><span class="tsd-signature-symbol">&gt;</span></span></li><li><span><span class="tsd-kind-parameter">value</span>: <a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#doneReturn.doneReturn-1.U-1">U</a></span></li></ul></div><h4 class="tsd-returns-title">Returns <a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#doneReturn.doneReturn-1.U-1">U</a><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"></div></li></ul></section><section class="tsd-panel tsd-member"><a id="expect" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>expect</span><a href="#expect" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="expect.expect-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">expect</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">this</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#T">T</a><a href="#expect.expect-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Yields the current thread until the given Promise completes. Returns the values that the promise resolved with.</p>
<pre><code class="language-lua"><span class="hl-3">local</span><span class="hl-1"> </span><span class="hl-0">worked</span><span class="hl-1"> = </span><span class="hl-5">pcall</span><span class="hl-1">(</span><span class="hl-2">function</span><span class="hl-1">()</span><br/><span class="hl-1">    </span><span class="hl-5">print</span><span class="hl-1">(</span><span class="hl-7">&quot;got&quot;</span><span class="hl-1">, </span><span class="hl-5">getTheValue</span><span class="hl-1">():</span><span class="hl-5">expect</span><span class="hl-1">())</span><br/><span class="hl-2">end</span><span class="hl-1">)</span><br/><br/><span class="hl-2">if</span><span class="hl-1"> not </span><span class="hl-0">worked</span><span class="hl-1"> </span><span class="hl-2">then</span><br/><span class="hl-1">    </span><span class="hl-5">warn</span><span class="hl-1">(</span><span class="hl-7">&quot;it failed&quot;</span><span class="hl-1">)</span><br/><span class="hl-2">end</span>
</code><button>Copy</button></pre>
<p>This is essentially sugar for:</p>
<pre><code class="language-lua"><span class="hl-5">select</span><span class="hl-1">(</span><span class="hl-6">2</span><span class="hl-1">, </span><span class="hl-5">assert</span><span class="hl-1">(</span><span class="hl-8">promise</span><span class="hl-1">:</span><span class="hl-5">await</span><span class="hl-1">()))</span>
</code><button>Copy</button></pre>
<p><strong>Errors</strong> if the Promise rejects or gets cancelled.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">this</span>: <a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#T">T</a><span class="tsd-signature-symbol">&gt;</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#T">T</a></h4><div class="tsd-comment tsd-typography"></div></li></ul></section><section class="tsd-panel tsd-member"><a id="finally" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>finally</span><a href="#finally" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="finally.finally-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">finally</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#finally.finally-1.TResult-2">TResult</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">this</span>, <span class="tsd-kind-parameter">onSettled</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#T">T</a><span class="tsd-signature-symbol"> | </span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#finally.finally-1.TResult-2">TResult</a><span class="tsd-signature-symbol">&gt;</span><a href="#finally.finally-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Set a handler that will be called regardless of the promise&#39;s fate. The handler is called when the promise is resolved, rejected, <em>or</em> cancelled.</p>
<p>Returns a new promise chained from this promise.</p>
<blockquote>
<p>If the Promise is cancelled, any Promises chained off of it with <code>andThen</code> won&#39;t run. Only Promises chained with <code>finally</code> or <code>done</code> will run in the case of cancellation.</p>
</blockquote>
<pre><code class="language-lua"><span class="hl-3">local</span><span class="hl-1"> </span><span class="hl-0">thing</span><span class="hl-1"> = </span><span class="hl-5">createSomething</span><span class="hl-1">()</span><br/><br/><span class="hl-5">doSomethingWith</span><span class="hl-1">(</span><span class="hl-0">thing</span><span class="hl-1">)</span><br/><span class="hl-1">    :</span><span class="hl-5">andThen</span><span class="hl-1">(</span><span class="hl-2">function</span><span class="hl-1">()</span><br/><span class="hl-1">    </span><span class="hl-5">print</span><span class="hl-1">(</span><span class="hl-7">&quot;It worked!&quot;</span><span class="hl-1">)</span><br/><span class="hl-1">        </span><span class="hl-9">-- do something..</span><br/><span class="hl-1">    </span><span class="hl-2">end</span><span class="hl-1">)</span><br/><span class="hl-1">    :</span><span class="hl-5">catch</span><span class="hl-1">(</span><span class="hl-2">function</span><span class="hl-1">()</span><br/><span class="hl-1">        </span><span class="hl-5">warn</span><span class="hl-1">(</span><span class="hl-7">&quot;Oh no it failed!&quot;</span><span class="hl-1">)</span><br/><span class="hl-1">    </span><span class="hl-2">end</span><span class="hl-1">)</span><br/><span class="hl-1">    :</span><span class="hl-5">finally</span><span class="hl-1">(</span><span class="hl-2">function</span><span class="hl-1">()</span><br/><span class="hl-1">        </span><span class="hl-9">-- either way, destroy thing</span><br/><br/><span class="hl-1">        </span><span class="hl-8">thing</span><span class="hl-1">:</span><span class="hl-5">Destroy</span><span class="hl-1">()</span><br/><span class="hl-1">    </span><span class="hl-2">end</span><span class="hl-1">)</span>
</code><button>Copy</button></pre>
</div><section class="tsd-panel"><h4>Type Parameters</h4><ul class="tsd-type-parameter-list"><li><span><a id="finally.finally-1.TResult-2" class="tsd-anchor"></a><span class="tsd-kind-type-parameter">TResult</span> = <span class="tsd-signature-type">never</span></span></li></ul></section><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">this</span>: <a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#T">T</a><span class="tsd-signature-symbol">&gt;</span></span></li><li><span><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">onSettled</span>: <span class="tsd-signature-type">void</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#finally.finally-1.TResult-2">TResult</a><span class="tsd-signature-symbol"> | </span><a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#finally.finally-1.TResult-2">TResult</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#T">T</a><span class="tsd-signature-symbol"> | </span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#finally.finally-1.TResult-2">TResult</a><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"></div></li></ul></section><section class="tsd-panel tsd-member"><a id="finallyCall" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>finally<wbr/>Call</span><a href="#finallyCall" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="finallyCall.finallyCall-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">finally<wbr/>Call</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#finallyCall.finallyCall-1.P-2">P</a><span class="tsd-signature-symbol">, </span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#finallyCall.finallyCall-1.R-2">R</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">this</span>, <span class="tsd-kind-parameter">callback</span>, <span class="tsd-signature-symbol">...</span><span class="tsd-kind-parameter">args</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#finallyCall.finallyCall-1.R-2">R</a><span class="tsd-signature-symbol">&gt;</span><a href="#finallyCall.finallyCall-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Same as <code>andThenCall</code>, except for <code>finally</code>.</p>
<p>Attaches a <code>finally</code> handler to this Promise that calls the given callback with the predefined arguments.</p>
</div><section class="tsd-panel"><h4>Type Parameters</h4><ul class="tsd-type-parameter-list"><li><span><a id="finallyCall.finallyCall-1.P-2" class="tsd-anchor"></a><span class="tsd-kind-type-parameter">P</span><span class="tsd-signature-keyword"> extends </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">[]</span></span></li><li><span><a id="finallyCall.finallyCall-1.R-2" class="tsd-anchor"></a><span class="tsd-kind-type-parameter">R</span></span></li></ul></section><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">this</span>: <a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#T">T</a><span class="tsd-signature-symbol">&gt;</span></span></li><li><span><span class="tsd-kind-parameter">callback</span>: <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">...</span><span class="tsd-kind-parameter">args</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#finallyCall.finallyCall-1.R-2">R</a><span class="tsd-signature-symbol">)</span></span><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature"><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">...</span><span class="tsd-kind-parameter">args</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#finallyCall.finallyCall-1.R-2">R</a></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><code class="tsd-tag ts-flagRest">Rest</code> <span class="tsd-signature-symbol">...</span><span class="tsd-kind-parameter">args</span>: <a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#finallyCall.finallyCall-1.P-2">P</a></span></li></ul></div><h4 class="tsd-returns-title">Returns <a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#finallyCall.finallyCall-1.R-2">R</a></h4></li></ul></li></ul></li><li><span><code class="tsd-tag ts-flagRest">Rest</code> <span class="tsd-signature-symbol">...</span><span class="tsd-kind-parameter">args</span>: <a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#finallyCall.finallyCall-1.P-2">P</a></span></li></ul></div><h4 class="tsd-returns-title">Returns <a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#finallyCall.finallyCall-1.R-2">R</a><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"></div></li></ul></section><section class="tsd-panel tsd-member"><a id="finallyReturn" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>finally<wbr/>Return</span><a href="#finallyReturn" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="finallyReturn.finallyReturn-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">finally<wbr/>Return</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#finallyReturn.finallyReturn-1.U-2">U</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">this</span>, <span class="tsd-kind-parameter">value</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#finallyReturn.finallyReturn-1.U-2">U</a><span class="tsd-signature-symbol">&gt;</span><a href="#finallyReturn.finallyReturn-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Attaches a <code>finally</code> handler to this Promise that discards the resolved value and returns the given value from it.</p>
<pre><code class="language-lua"><span class="hl-8">promise</span><span class="hl-1">:</span><span class="hl-5">finallyReturn</span><span class="hl-1">(</span><span class="hl-7">&quot;value&quot;</span><span class="hl-1">)</span>
</code><button>Copy</button></pre>
<p>This is sugar for</p>
<pre><code class="language-lua"><span class="hl-8">promise</span><span class="hl-1">:</span><span class="hl-5">finally</span><span class="hl-1">(</span><span class="hl-2">function</span><span class="hl-1">()</span><br/><span class="hl-1">    </span><span class="hl-2">return</span><span class="hl-1"> </span><span class="hl-7">&quot;value&quot;</span><br/><span class="hl-2">end</span><span class="hl-1">)</span>
</code><button>Copy</button></pre>
</div><section class="tsd-panel"><h4>Type Parameters</h4><ul class="tsd-type-parameter-list"><li><span><a id="finallyReturn.finallyReturn-1.U-2" class="tsd-anchor"></a><span class="tsd-kind-type-parameter">U</span></span></li></ul></section><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">this</span>: <a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#T">T</a><span class="tsd-signature-symbol">&gt;</span></span></li><li><span><span class="tsd-kind-parameter">value</span>: <a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#finallyReturn.finallyReturn-1.U-2">U</a></span></li></ul></div><h4 class="tsd-returns-title">Returns <a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#finallyReturn.finallyReturn-1.U-2">U</a><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"></div></li></ul></section><section class="tsd-panel tsd-member"><a id="getStatus" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>get<wbr/>Status</span><a href="#getStatus" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="getStatus.getStatus-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">get<wbr/>Status</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">this</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Status</span><a href="#getStatus.getStatus-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Returns the current Promise status.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">this</span>: <a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#T">T</a><span class="tsd-signature-symbol">&gt;</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Status</span></h4><div class="tsd-comment tsd-typography"></div></li></ul></section><section class="tsd-panel tsd-member"><a id="now" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>now</span><a href="#now" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="now.now-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">now</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">this</span>, <span class="tsd-kind-parameter">rejectionValue</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#T">T</a><span class="tsd-signature-symbol">&gt;</span><a href="#now.now-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Chains a Promise from this one that is resolved if this Promise is already resolved, and rejected if it is not resolved at the time of calling <code>:now()</code>. This can be used to ensure your <code>andThen</code> handler occurs on the same frame as the root Promise execution.</p>
<pre><code class="language-lua"><span class="hl-5">doSomething</span><span class="hl-1">()</span><br/><span class="hl-1">    :</span><span class="hl-5">now</span><span class="hl-1">()</span><br/><span class="hl-1">    :</span><span class="hl-5">andThen</span><span class="hl-1">(</span><span class="hl-2">function</span><span class="hl-1">(</span><span class="hl-0">value</span><span class="hl-1">)</span><br/><span class="hl-1">        </span><span class="hl-5">print</span><span class="hl-1">(</span><span class="hl-7">&quot;Got&quot;</span><span class="hl-1">, </span><span class="hl-0">value</span><span class="hl-1">, </span><span class="hl-7">&quot;synchronously.&quot;</span><span class="hl-1">)</span><br/><span class="hl-1">    </span><span class="hl-2">end</span><span class="hl-1">)</span>
</code><button>Copy</button></pre>
<p>If this Promise is still running, Rejected, or Cancelled, the Promise returned from <code>:now()</code> will reject with the <code>rejectionValue</code> if passed, otherwise with a <code>Promise.Error(Promise.Error.Kind.NotResolvedInTime)</code>. This can be checked with <code>Error.isKind</code>.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">this</span>: <a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#T">T</a><span class="tsd-signature-symbol">&gt;</span></span></li><li><span><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">rejectionValue</span>: <span class="tsd-signature-type">any</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#T">T</a><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"></div></li></ul></section><section class="tsd-panel tsd-member"><a id="tap" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>tap</span><a href="#tap" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="tap.tap-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">tap</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">this</span>, <span class="tsd-kind-parameter">tapHandler</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#T">T</a><span class="tsd-signature-symbol">&gt;</span><a href="#tap.tap-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Similar to <a href="https://eryn.io/roblox-lua-promise/lib/#andthen">Promise.andThen</a>, except the return value is the same as the value passed to the handler. In other words, you can insert a <code>:tap</code> into a Promise chain without affecting the value that downstream Promises receive.</p>
<pre><code class="language-lua"><span class="hl-5">getTheValue</span><span class="hl-1">()</span><br/><span class="hl-1">    :</span><span class="hl-5">tap</span><span class="hl-1">(</span><span class="hl-5">print</span><span class="hl-1">)</span><br/><span class="hl-1">    :</span><span class="hl-5">andThen</span><span class="hl-1">(</span><span class="hl-2">function</span><span class="hl-1">(</span><span class="hl-0">theValue</span><span class="hl-1">))</span><br/><span class="hl-1">        </span><span class="hl-5">print</span><span class="hl-1">(</span><span class="hl-7">&quot;Got&quot;</span><span class="hl-1">, </span><span class="hl-0">theValue</span><span class="hl-1">, </span><span class="hl-7">&quot;even though print returns nil!&quot;</span><span class="hl-1">)</span><br/><span class="hl-1">    </span><span class="hl-2">end</span><span class="hl-1">)</span>
</code><button>Copy</button></pre>
<p>If you return a Promise from the tap handler callback, its value will be discarded but <code>tap</code> will still wait until it resolves before passing the original value through.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">this</span>: <a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#T">T</a><span class="tsd-signature-symbol">&gt;</span></span></li><li><span><span class="tsd-kind-parameter">tapHandler</span>: <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">value</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span></span><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">value</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">value</span>: <a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#T">T</a></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></li></ul></li></ul></div><h4 class="tsd-returns-title">Returns <a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#T">T</a><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"></div></li></ul></section><section class="tsd-panel tsd-member"><a id="then" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>then</span><a href="#then" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="then.then-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">then</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#then.then-1.TResult1-1">TResult1</a><span class="tsd-signature-symbol">, </span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#then.then-1.TResult2-1">TResult2</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">this</span>, <span class="tsd-kind-parameter">onResolved</span><span class="tsd-signature-symbol">?</span>, <span class="tsd-kind-parameter">onRejected</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#then.then-1.TResult1-1">TResult1</a><span class="tsd-signature-symbol"> | </span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#then.then-1.TResult2-1">TResult2</a><span class="tsd-signature-symbol">&gt;</span><a href="#then.then-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Chains onto an existing Promise and returns a new Promise.</p>
<blockquote>
<p>Within the failure handler, you should never assume that the rejection value is a string. Some rejections within the Promise library are represented by Error objects. If you want to treat it as a string for debugging, you should call <code>tostring</code> on it first.</p>
</blockquote>
<p>Return a Promise from the success or failure handler and it will be chained onto.</p>
</div><section class="tsd-panel"><h4>Type Parameters</h4><ul class="tsd-type-parameter-list"><li><span><a id="then.then-1.TResult1-1" class="tsd-anchor"></a><span class="tsd-kind-type-parameter">TResult1</span> = <a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#T">T</a></span></li><li><span><a id="then.then-1.TResult2-1" class="tsd-anchor"></a><span class="tsd-kind-type-parameter">TResult2</span> = <span class="tsd-signature-type">never</span></span></li></ul></section><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">this</span>: <a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#T">T</a><span class="tsd-signature-symbol">&gt;</span></span></li><li><span><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">onResolved</span>: <span class="tsd-signature-type">void</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">value</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#then.then-1.TResult1-1">TResult1</a><span class="tsd-signature-symbol"> | </span><a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#then.then-1.TResult1-1">TResult1</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span></span></li><li><span><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">onRejected</span>: <span class="tsd-signature-type">void</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">reason</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#then.then-1.TResult2-1">TResult2</a><span class="tsd-signature-symbol"> | </span><a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#then.then-1.TResult2-1">TResult2</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#then.then-1.TResult1-1">TResult1</a><span class="tsd-signature-symbol"> | </span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#then.then-1.TResult2-1">TResult2</a><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"></div></li></ul></section><section class="tsd-panel tsd-member"><a id="timeout" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>timeout</span><a href="#timeout" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="timeout.timeout-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">timeout</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">this</span>, <span class="tsd-kind-parameter">seconds</span>, <span class="tsd-kind-parameter">rejectionValue</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#T">T</a><span class="tsd-signature-symbol">&gt;</span><a href="#timeout.timeout-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Returns a new Promise that resolves if the chained Promise resolves within <code>seconds</code> seconds, or rejects if execution time exceeds <code>seconds</code>. The chained Promise will be cancelled if the timeout is reached.</p>
<p>Rejects with <code>rejectionValue</code> if it is non-nil. If a <code>rejectionValue</code> is not given, it will reject with a <code>Promise.Error(Promise.Error.Kind.TimedOut)</code>. This can be checked with <code>Error.isKind</code>.</p>
<pre><code class="language-lua"><span class="hl-5">getSomething</span><span class="hl-1">():</span><span class="hl-5">timeout</span><span class="hl-1">(</span><span class="hl-6">5</span><span class="hl-1">):</span><span class="hl-5">andThen</span><span class="hl-1">(</span><span class="hl-2">function</span><span class="hl-1">(</span><span class="hl-0">something</span><span class="hl-1">)</span><br/><span class="hl-1">    </span><span class="hl-9">-- got something and it only took at max 5 seconds</span><br/><span class="hl-2">end</span><span class="hl-1">):</span><span class="hl-5">catch</span><span class="hl-1">(</span><span class="hl-2">function</span><span class="hl-1">(</span><span class="hl-0">e</span><span class="hl-1">)</span><br/><span class="hl-1">    </span><span class="hl-9">-- Either getting something failed or the time was exceeded.</span><br/><br/><span class="hl-1">    </span><span class="hl-2">if</span><span class="hl-1"> </span><span class="hl-0">Promise</span><span class="hl-1">.</span><span class="hl-8">Error</span><span class="hl-1">.</span><span class="hl-5">isKind</span><span class="hl-1">(</span><span class="hl-0">e</span><span class="hl-1">, </span><span class="hl-0">Promise</span><span class="hl-1">.</span><span class="hl-8">Error</span><span class="hl-1">.</span><span class="hl-8">Kind</span><span class="hl-1">.</span><span class="hl-8">TimedOut</span><span class="hl-1">) </span><span class="hl-2">then</span><br/><span class="hl-1">        </span><span class="hl-5">warn</span><span class="hl-1">(</span><span class="hl-7">&quot;Operation timed out!&quot;</span><span class="hl-1">)</span><br/><span class="hl-1">    </span><span class="hl-2">else</span><br/><span class="hl-1">        </span><span class="hl-5">warn</span><span class="hl-1">(</span><span class="hl-7">&quot;Operation encountered an error!&quot;</span><span class="hl-1">)</span><br/><span class="hl-1">    </span><span class="hl-2">end</span><br/><span class="hl-2">end</span><span class="hl-1">)</span>
</code><button>Copy</button></pre>
<p>Sugar for:</p>
<pre><code class="language-lua"><span class="hl-0">Promise</span><span class="hl-1">.</span><span class="hl-5">race</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-0">Promise</span><span class="hl-1">.</span><span class="hl-5">delay</span><span class="hl-1">(</span><span class="hl-0">seconds</span><span class="hl-1">):</span><span class="hl-5">andThen</span><span class="hl-1">(</span><span class="hl-2">function</span><span class="hl-1">()</span><br/><span class="hl-1">        </span><span class="hl-2">return</span><span class="hl-1"> </span><span class="hl-0">Promise</span><span class="hl-1">.</span><span class="hl-5">reject</span><span class="hl-1">(</span><span class="hl-0">rejectionValue</span><span class="hl-1"> == </span><span class="hl-3">nil</span><span class="hl-1"> and </span><span class="hl-0">Promise</span><span class="hl-1">.</span><span class="hl-8">Error</span><span class="hl-1">.</span><span class="hl-5">new</span><span class="hl-1">({ </span><span class="hl-0">kind</span><span class="hl-1"> = </span><span class="hl-0">Promise</span><span class="hl-1">.</span><span class="hl-8">Error</span><span class="hl-1">.</span><span class="hl-8">Kind</span><span class="hl-1">.</span><span class="hl-8">TimedOut</span><span class="hl-1"> }) or </span><span class="hl-0">rejectionValue</span><span class="hl-1">)</span><br/><span class="hl-1">    </span><span class="hl-2">end</span><span class="hl-1">),</span><br/><span class="hl-1">    </span><span class="hl-0">promise</span><br/><span class="hl-1">})</span>
</code><button>Copy</button></pre>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">this</span>: <a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#T">T</a><span class="tsd-signature-symbol">&gt;</span></span></li><li><span><span class="tsd-kind-parameter">seconds</span>: <span class="tsd-signature-type">number</span></span></li><li><span><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">rejectionValue</span>: <span class="tsd-signature-type">any</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <a href="Promise.html" class="tsd-signature-type tsd-kind-interface">Promise</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Promise.html#T">T</a><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"></div></li></ul></section></section></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-index-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><h4 class="uppercase">Member Visibility</h4><form><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-private" name="private"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Private</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div><div class="tsd-theme-toggle"><h4 class="uppercase">Theme</h4><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-index-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#andThen" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>and<wbr/>Then</span></a><a href="#andThenCall" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>and<wbr/>Then<wbr/>Call</span></a><a href="#andThenReturn" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>and<wbr/>Then<wbr/>Return</span></a><a href="#await" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>await</span></a><a href="#awaitStatus" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>await<wbr/>Status</span></a><a href="#cancel" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>cancel</span></a><a href="#catch" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>catch</span></a><a href="#done" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>done</span></a><a href="#doneCall" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>done<wbr/>Call</span></a><a href="#doneReturn" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>done<wbr/>Return</span></a><a href="#expect" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>expect</span></a><a href="#finally" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>finally</span></a><a href="#finallyCall" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>finally<wbr/>Call</span></a><a href="#finallyReturn" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>finally<wbr/>Return</span></a><a href="#getStatus" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Status</span></a><a href="#now" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>now</span></a><a href="#tap" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>tap</span></a><a href="#then" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>then</span></a><a href="#timeout" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>timeout</span></a></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="../modules.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1"></use></svg><span>Airship Core</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base=".."><li>Loading...</li></ul></nav></div></div></div><footer></footer><div class="overlay"></div></body></html>